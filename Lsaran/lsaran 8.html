<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    console.log("__________________ex1___________________");
    function chosenWine(wines) {
        if(!wines.length) return null;
        if(wines.length < 2) return wines[0].name;
        wines = wines.sort((a,b) => a.price - b.price);
        return  wines[1].name
    }
   console.log( chosenWine([{name: "Wine A", price: 8.99},
        {name: "Wine 32", price: 13.99},
        {name: "Wine 9", price: 10.99}]));
    console.log(chosenWine([{name: "Wine A", price: 8.99},
        {name: "Wine B", price: 9.99}]));

console.log("__________________ex2___________________");
    function barChart(results) {
        let arr=Object.entries(results);
        arr=arr.sort((a,b)=>b[1]-a[1]);
        return arr.map(x=>`${x[0]}|${"#".repeat(x[1]/50)}${x[1]===0 ? x[1]
            : " " + x[1]}`).join("\n")
    }
    console.log(barChart({Q4: 250, Q1: 300, Q2: 150, Q3: 0}));

    console.log("__________________ex3___________________");
   function replace(str) {
       return [...str].map(x => x === x.toUpperCase() ? x = x.toLowerCase()
    : x = x.toUpperCase()).join("")
   }
    console.log(replace("Hello"));
    console.log(replace("2 4 6 8 WHO DO WE APPRECIATE?"));

    console.log("__________________ex3___________________");
   String.prototype.swapCase = function () {
       return [...this].map(x => x === x.toUpperCase() ? x = x.toLowerCase() :
           x = x.toUpperCase()).join("")
   };
    console.log("Hello".swapCase());
    console.log("2 4 6 8 WHO DO WE APPRECIATE?".swapCase());

    console.log("__________________ex4___________________");
    function SimpleCrypt(str) {
        this.raw = str;
        this.cur = str;
    }
    SimpleCrypt.prototype.encrypt = function(str = this.cur) {
        this.cur = [...str].map((x,i) => String.fromCharCode(x.charCodeAt(0)
            + (i + 1))).join("").replace(/\s/g, " ");
        return this.cur;
    };
    SimpleCrypt.prototype.decrypt = function(str = this.cur) {
        this.cur = [...str].map((x,i) => String.fromCharCode(x.charCodeAt(0)
            - (i + 1))).join("").replace(/\s/g, " ");
        return this.cur;
    };
    SimpleCrypt.prototype.reset = function() { this.cur = this.raw};
    let manualTests = new SimpleCrypt("123456789");
    console.log(manualTests.encrypt());
    console.log(manualTests.decrypt());

    console.log("__________________ex5___________________");
    //թեստավորել եմ տրված օրինակներից մի քանիսը, բայց շարադրությունա ստացվել
    function decomposeUrl(url) {
        let arr=url.split("/");
        let obj={};
        obj.protocol=arr[0].slice(0,arr[0].length-1);
        obj.ipAdress=arr[2].includes("1.1") ? arr[2] : null;
        obj.subDomain=arr[2].includes("www") ? "www" : arr[2].includes("forum") ? "forum" : null;
        obj.domainName=arr[2].includes("com") || arr[2].includes("net") || arr[2].includes("fr")
        || arr[2].includes(".1") ? arr[2].split(".").slice(-2).join(".") : null;
        obj.folderTree=!arr[3].includes(".") && !arr[4].includes(".") ? [arr[3],arr[4]] : null;
        obj.targetFile=arr.length > 5 && arr[5].includes(".html") || arr[5].includes("bSuzdY5mYYLbuasX8")
        || arr[5].includes("search")? arr[5] : null;
        obj.argumentsFile=arr[arr.length] && arr[arr.length].includes("?") ? arr[arr.length] : null;
        return obj
    }
    console.log(decomposeUrl("https://edabit.com/new/challenge/test.html"));
    console.log(decomposeUrl("https://edabit.com/edit/challenge/bSuzdY5mYYLbuasX8"));
    console.log(decomposeUrl("https://jsfiddle.net/r5dq22dc/99/"));

    console.log("__________________ex6___________________");
    function Book(title, author) {
        this.title=title;
        this.author=author;
        this.getTitle = function(){
            return "Title: " + this.title;
        };
        this.getAuthor =function(){
            return "Author: " + this.author;
        }
    }
    const PP = new Book("Pride and Prejudice", "Jane Austen");
    const H = new Book("Hamlet", "William Shakespeare");
    const WP = new Book("War and Peace", "Leo Tolstoy");
    console.log(PP);
    console.log(PP.title);
    console.log(PP.author);
</script>
</body>
</html>